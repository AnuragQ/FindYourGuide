{% extends 'main_app/index.html' %} {% block body_block %}
<div class="container">
  <h2 class="title">My Payments</h2>
  <table id="payments-table" class="display">
    <thead>
      <tr>
        <th>Amount</th>
        <th>Currency</th>
        <th>Paid At</th>
        <th>Payer</th>
        <th>Booking</th>
      </tr>
    </thead>
    <tbody>
      {% for payment in payments %}
      <tr class="center-text">
        <td>{{ payment.amount | floatformat:2 }}</td>
        <td>{{ payment.currency | upper }}</td>
        <td>{{ payment.paid_at }}</td>
        <td>{{ payment.payer }}</td>
        <td class="center-text" style="text-align: center">
          <div
            style="display: flex; align-items: center; justify-content: center"
          >
            {% if payment.booking.offering.offering_image %}
            <img
              src="{{ payment.booking.offering.offering_image.url }}"
              alt="{{ payment.booking.offering.title }}"
              width="50"
              style="margin-right: 10px"
            />
            {% endif %}
            <span>{{ payment.booking.offering.title }}</span>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"></script>
  <script>
    $(document).ready(function () {
      $("#payments-table").DataTable();
    });
  </script>
</div>
{% endblock %}
